<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>å¸¦å®½å¯¹æ¯”è¯„ä¼°å·¥å…·</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 700px;
      margin: 40px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    input {
      padding: 8px;
      width: 100%;
      margin: 10px 0;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .output {
      background: #f0f0f0;
      padding: 10px;
      margin-top: 20px;
      border-radius: 8px;
      white-space: pre-wrap;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f8f8f8;
    }
  </style>
</head>
<body>
  <h2>ğŸ“¶ ä¼°ç®—æ˜¯å¦å­˜åœ¨ç½‘ç»œç“¶é¢ˆ</h2>

  <label>è¯·è¾“å…¥ JMeter æŠ¥å‘Šä¸­çš„æ¥æ”¶ KB/sï¼ˆä¸‹è½½ï¼‰ï¼š</label>
  <input type="number" id="recvInput" placeholder="ä¾‹å¦‚ï¼š24.42">

  <label>è¯·è¾“å…¥ JMeter æŠ¥å‘Šä¸­çš„å‘é€ KB/sï¼ˆä¸Šä¼ ï¼‰ï¼š</label>
  <input type="number" id="sendInput" placeholder="ä¾‹å¦‚ï¼š8.14">

  <div style="margin-bottom: 10px; font-size: 16px;">ğŸ‘‰ å¯å‰å¾€ <a href="https://www.speedtest.net" target="_blank">https://www.speedtest.net</a> è¿›è¡Œæµ‹é€Ÿ</div>
  <label>è¯·è¾“å…¥æµ‹é€Ÿç½‘ç«™çš„ä¸‹è½½é€Ÿåº¦ï¼ˆMbpsï¼‰ï¼š</label>
  <input type="number" id="dlMbpsInput" placeholder="ä¾‹å¦‚ï¼š243">

  <label>è¯·è¾“å…¥æµ‹é€Ÿç½‘ç«™çš„ä¸Šä¼ é€Ÿåº¦ï¼ˆMbpsï¼‰ï¼š</label>
  <input type="number" id="ulMbpsInput" placeholder="ä¾‹å¦‚ï¼š66">

  <details style="margin-top: 10px;">
    <summary style="color: #000; font-weight: bold;">ğŸ“˜ Mbps ä¸ KB/s å•ä½æ¢ç®—è¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
    <div style="padding: 10px 0 0 0;">
      <ul>
        <li>1 Mbps = 1,000,000 bits/s</li>
        <li>1 Byte = 8 bits</li>
        <li>æ‰€ä»¥ 1 Mbps = 125,000 Bytes/s â‰ˆ <strong>125 KB/s</strong></li>
        <li>ä¾‹å¦‚ï¼š10 Mbps = 1250 KB/s</li>
      </ul>
    </div>
  </details>

  <div style="margin-top: 30px; display: flex; align-items: center; gap: 10px;">
    <button onclick="compareBandwidth()" id="analyzeBtn" style="background-color:#007bff; color:white; border:none; border-radius:6px; padding:10px 20px; font-size:16px; transition: background-color 0.3s;">ğŸ“Š åˆ†æ</button>
    <span style="font-size: 14px; color: #555;"><strong>ç‚¹å‡»æŒ‰é’®è¿›è¡Œå¸¦å®½ä½¿ç”¨ç‡åˆ†æï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç½‘ç»œç“¶é¢ˆ</strong></span>
  </div>

  <div class="output" id="output"></div>

  <script>
    const button = document.getElementById('analyzeBtn');
    const originalText = button.innerHTML;

    button.addEventListener('mouseover', function() {
      this.style.backgroundColor = '#0056b3';
    });
    button.addEventListener('mouseout', function() {
      this.style.backgroundColor = '#007bff';
    });

    function compareBandwidth() {
      button.disabled = true;
      button.innerHTML = 'â³ åˆ†æä¸­...';

      setTimeout(() => {
        const recv = parseFloat(document.getElementById('recvInput').value) || 0;
        const send = parseFloat(document.getElementById('sendInput').value) || 0;
        const dlMbps = parseFloat(document.getElementById('dlMbpsInput').value) || 0;
        const ulMbps = parseFloat(document.getElementById('ulMbpsInput').value) || 0;

        const totalUsed = recv + send;
        const dlKBps = dlMbps * 125;
        const ulKBps = ulMbps * 125;
        const totalAvailable = dlKBps + ulKBps;
        const usagePercent = ((totalUsed / totalAvailable) * 100).toFixed(2);

        let html = "<strong>ğŸ“Š ç½‘ç»œç“¶é¢ˆåˆ†æç»“æœ</strong><br><br>";
        html += "<table><tr><th>ç±»åˆ«</th><th>ä¸Šä¼  (KB/s)</th><th>ä¸‹è½½ (KB/s)</th><th>åˆè®¡ (KB/s)</th></tr>";
        html += `<tr><td>ğŸ§ª å®é™…å‹æµ‹ä½¿ç”¨</td><td>${send}</td><td>${recv}</td><td>${totalUsed.toFixed(2)}</td></tr>`;
        html += `<tr><td>ğŸ“¶ ä½ ç½‘ç»œèƒ½è·‘</td><td>${ulKBps.toFixed(0)}</td><td>${dlKBps.toFixed(0)}</td><td>${totalAvailable.toFixed(0)}</td></tr>`;
        html += `</table><br><strong>ğŸ” å¸¦å®½ä½¿ç”¨ç‡ï¼š</strong> ${totalUsed.toFixed(2)} / ${totalAvailable.toFixed(0)} = ${usagePercent}%<br>`;
        html += usagePercent > 80 ? `âš ï¸ <strong>å¯èƒ½å­˜åœ¨å¸¦å®½ç“¶é¢ˆï¼Œè¯·æ£€æŸ¥ç½‘ç»œèƒ½åŠ›ï¼</strong>` : `âœ… <strong>ç½‘ç»œå¸¦å®½å……è¶³ï¼Œå½“å‰å‹æµ‹ä¸æ˜¯ç½‘ç»œç“¶é¢ˆã€‚</strong>`;

        document.getElementById('output').innerHTML = html;
        button.disabled = false;
        button.innerHTML = originalText;
      }, 300);
    }
  </script>
</body>
</html>
