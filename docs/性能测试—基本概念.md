### 性能测试—基本概念

#### 性能测试

- 通过工具,模拟一定量的并发用户数，向服务器发起请求，获取性能指标值。

#### 基准测试

- 第一次正式做性能测试，得到相关得性能指标作为参考标准。

#### 负载测试

- 逐步增加并发用户数，找出服务器可以承受最大的并发拐点区间数
- 怎么判断服务器可承受的最大区间：请求报错（服务器无法处理）、TPS下降、响应时间变长
- 时间时长不限制

#### 压力测试

- 使用一定量的并发用户数，持续**比较长时间**向服务器发起请求，查看服务器的**稳定性**
- 负载测试是不关注稳定性的，压力测试是关注稳定性的
- 一定量并发数小于最大并发用户数

#### 事务

- 是从接口发起请求，到网络传输，收到响应，完整的一个事务。
- 一个事务可能是1个接口，也可能是多个接口。
- jmeter：默认情况下，1个接口请求一次，认为一个1个事务Transaction，也可以是通过事务控制器，挂载多个接口请求，合并成为1个事务。

#### 性能指标

1. 平均响应时间 avgRT 

2. TPS：服务器每秒处理的事务数

   - 衡量**服务器**处理能力的最主要的指标

3. 吞吐量：网络中每秒传输的事务数

   - 没有网络瓶颈：tps 数值 = 吞吐量数值
   - 如果网络有瓶颈: tps 数值 != 吞吐量数值

4. 吞吐率 ：每秒能通过多少kb数据

5. 服务器资源利用率

   - cpu、内存、io(换入换出)的利用率

6. 并发用户数：

   + 同一时间发起请求用户数

   - 并发用户数10，tps值不是10，总的请求数是不确定的。

- 其他指标
  1. qps:服务器每秒的查询数，当1个事务=1个接口，qps=tps
  2. rps:（发起方）用户每秒请求数，没有网络瓶颈，rps=tps
  3. hps:页面上每秒用户的点击数

#### 容量测试

在性能测试时，如果数据库的数据量级是不一致的，性能指标值，也可能存在差异。 在做性能测试时，数据库的数据量级一定要保证一致。





