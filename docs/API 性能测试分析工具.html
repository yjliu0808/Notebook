<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»¼åˆæ€§èƒ½åˆ†æå·¥å…·</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: block;
            padding: 20px;
        }
        .tool-container {
            width: 100%;
            max-width: 800px;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            text-align: left;
            margin-bottom: 20px;
        }
        .tool-container h2 {
            font-size: 18px;
            text-align: left;
        }
        .form-group {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        label {
            font-weight: bold;
            font-size: 14px;
            width: 50%;
        }
        input[type="number"] {
            padding: 6px;
            width: 80%; /* ç¼©å°è¾“å…¥æ¡†çš„å®½åº¦ */
            font-size: 14px;
            border-radius: 6px;
            border: 1px solid #ddd;
        }
        button {
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            width: auto;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .output {
            background: #f0f0f0;
            padding: 8px;
            margin-top: 15px;
            border-radius: 8px;
            white-space: pre-wrap;
        }
        .standard-info {
            cursor: pointer;
            color: #007BFF;
            text-decoration: underline;
        }
        .standard-details {
            display: none;
            margin-top: 10px;
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 6px;
            text-align: left;
        }
        th {
            background-color: #f8f8f8;
        }
    </style>
</head>
<body>

<!-- å·¦ä¾§å·¥å…·ï¼šå¸¦å®½å¯¹æ¯”è¯„ä¼°å·¥å…· -->
<div class="tool-container">
    <h2>ğŸ“¶ å¸¦å®½å¯¹æ¯”è¯„ä¼°å·¥å…·</h2>

    <div class="form-group">
        <label for="recvInput">è¯·è¾“å…¥ JMeter æŠ¥å‘Šä¸­çš„æ¥æ”¶ KB/sï¼ˆä¸‹è½½ï¼‰ï¼š</label>
        <input type="number" id="recvInput" placeholder="ä¾‹å¦‚ï¼š24.42">
    </div>

    <div class="form-group">
        <label for="sendInput">è¯·è¾“å…¥ JMeter æŠ¥å‘Šä¸­çš„å‘é€ KB/sï¼ˆä¸Šä¼ ï¼‰ï¼š</label>
        <input type="number" id="sendInput" placeholder="ä¾‹å¦‚ï¼š8.14">
    </div>

    <div class="form-group">
        <label for="dlMbpsInput">è¯·è¾“å…¥æµ‹é€Ÿç½‘ç«™çš„ä¸‹è½½é€Ÿåº¦ï¼ˆMbpsï¼‰ï¼š</label>
        <input type="number" id="dlMbpsInput" placeholder="ä¾‹å¦‚ï¼š243">
    </div>

    <div class="form-group">
        <label for="ulMbpsInput">è¯·è¾“å…¥æµ‹é€Ÿç½‘ç«™çš„ä¸Šä¼ é€Ÿåº¦ï¼ˆMbpsï¼‰ï¼š</label>
        <input type="number" id="ulMbpsInput" placeholder="ä¾‹å¦‚ï¼š66">
    </div>

    <details style="margin-top: 10px;">
        <summary style="color: #000; font-weight: bold;">ğŸ“˜ Mbps ä¸ KB/s å•ä½æ¢ç®—è¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>
        <div style="padding: 10px 0 0 0;">
            <ul>
                <li>1 Mbps = 1,000,000 bits/s</li>
                <li>1 Byte = 8 bits</li>
                <li>æ‰€ä»¥ 1 Mbps = 125,000 Bytes/s â‰ˆ <strong>125 KB/s</strong></li>
                <li>ä¾‹å¦‚ï¼š10 Mbps = 1250 KB/s</li>
            </ul>
        </div>
    </details>

    <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px;">
        <button onclick="compareBandwidth()" id="analyzeBtn">ğŸ“Š å¼€å§‹åˆ†æ</button>
        <span style="font-size: 12px; color: #555;"><strong>ç‚¹å‡»æŒ‰é’®è¿›è¡Œå¸¦å®½ä½¿ç”¨ç‡åˆ†æï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç½‘ç»œç“¶é¢ˆ</strong></span>
    </div>

    <div class="output" id="output"></div>
</div>

<!-- å³ä¾§å·¥å…·ï¼šAPI æ€§èƒ½æµ‹è¯•åˆ†æå·¥å…· -->
<div class="tool-container">
    <h2>API æ€§èƒ½æµ‹è¯•åˆ†æå·¥å…·</h2>

    <!-- æ•°æ®è¾“å…¥è¡¨å• -->
    <div class="form-group">
        <label for="api_response_time">API å“åº”æ—¶é—´ (æ¯«ç§’):</label>
        <input type="number" id="api_response_time" placeholder="è¾“å…¥ API å“åº”æ—¶é—´" required>
    </div>
    <div class="form-group">
        <label for="api_throughput">API ååé‡ (æ¬¡/ç§’):</label>
        <input type="number" id="api_throughput" placeholder="è¾“å…¥ API ååé‡" required>
    </div>
    <div class="form-group">
        <label for="api_concurrent_users">API å¹¶å‘ç”¨æˆ·æ•°:</label>
        <input type="number" id="api_concurrent_users" placeholder="è¾“å…¥ API å¹¶å‘ç”¨æˆ·æ•°" required>
    </div>
    <div class="form-group">
        <label for="api_error_rate">API é”™è¯¯ç‡ (%):</label>
        <input type="number" id="api_error_rate" placeholder="è¾“å…¥ API é”™è¯¯ç‡" required>
    </div>

    <!-- åˆ†ææŒ‰é’® -->
    <div>
        <button class="button" onclick="analyzePerformance()">ğŸ“Š å¼€å§‹åˆ†æ</button>
    </div>

    <!-- å±•å¼€/æ”¶ç¼©æ ‡å‡†è¯´æ˜ -->
    <div class="standard-info" onclick="toggleStandardDetails()">ç‚¹å‡»æŸ¥çœ‹APIæ ‡å‡†è¯´æ˜</div>
    <div class="standard-details" id="standard-details">
        <h3>API æ€§èƒ½æµ‹è¯•æ ‡å‡†</h3>
        <ul>
            <li><b>API å“åº”æ—¶é—´ï¼š</b>ç†æƒ³å€¼åº”å°äº 1 ç§’ï¼›å¦‚æœå¤§äº 3 ç§’ï¼Œå¯èƒ½ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚</li>
            <li><b>API ååé‡ï¼š</b>ç†æƒ³å€¼åº”å¤§äº 200 æ¬¡/ç§’ã€‚</li>
            <li><b>API å¹¶å‘ç”¨æˆ·æ•°ï¼š</b>ç†æƒ³å€¼åº”å¤§äº 1000 ç”¨æˆ·ã€‚</li>
            <li><b>é”™è¯¯ç‡ï¼š</b>ç†æƒ³æƒ…å†µä¸‹ï¼Œé”™è¯¯ç‡åº”ä¸º 0%ï¼Œåœ¨é«˜è´Ÿè½½æƒ…å†µä¸‹ï¼Œ0 - 1% çš„é”™è¯¯ç‡æ˜¯å¯ä»¥æ¥å—çš„ã€‚</li>
        </ul>
    </div>

    <!-- æ˜¾ç¤ºåˆ†æç»“æœ -->
    <div class="result" id="result" style="display:none;">
        <h3>API æ€§èƒ½åˆ†æç»“è®º</h3>
        <p id="response_time_analysis"></p>
        <p id="throughput_analysis"></p>
        <p id="concurrent_users_analysis"></p>
        <p id="error_rate_analysis"></p>
    </div>
</div>

<script>
    // å¸¦å®½å¯¹æ¯”è¯„ä¼°å·¥å…·çš„åŠŸèƒ½
    function compareBandwidth() {
        const recv = parseFloat(document.getElementById('recvInput').value) || 0;
        const send = parseFloat(document.getElementById('sendInput').value) || 0;
        const dlMbps = parseFloat(document.getElementById('dlMbpsInput').value) || 0;
        const ulMbps = parseFloat(document.getElementById('ulMbpsInput').value) || 0;

        const totalUsed = recv + send;
        const dlKBps = dlMbps * 125;
        const ulKBps = ulMbps * 125;
        const totalAvailable = dlKBps + ulKBps;
        const usagePercent = ((totalUsed / totalAvailable) * 100).toFixed(2);

        let html = "<strong>ğŸ“Š ç½‘ç»œç“¶é¢ˆåˆ†æç»“æœ</strong><br><br>";
        html += "<table><tr><th>ç±»åˆ«</th><th>ä¸Šä¼  (KB/s)</th><th>ä¸‹è½½ (KB/s)</th><th>åˆè®¡ (KB/s)</th></tr>";
        html += `<tr><td>ğŸ§ª å®é™…å‹æµ‹ä½¿ç”¨</td><td>${send}</td><td>${recv}</td><td>${totalUsed.toFixed(2)}</td></tr>`;
        html += `<tr><td>ğŸ“¶ ä½ ç½‘ç»œèƒ½è·‘</td><td>${ulKBps.toFixed(0)}</td><td>${dlKBps.toFixed(0)}</td><td>${totalAvailable.toFixed(0)}</td></tr>`;
        html += `</table><br><strong>ğŸ” å¸¦å®½ä½¿ç”¨ç‡ï¼š</strong> ${totalUsed.toFixed(2)} / ${totalAvailable.toFixed(0)} = ${usagePercent}%<br>`;
        html += usagePercent > 80 ? `âš ï¸ <strong>å¯èƒ½å­˜åœ¨å¸¦å®½ç“¶é¢ˆï¼Œè¯·æ£€æŸ¥ç½‘ç»œèƒ½åŠ›ï¼</strong>` : `âœ… <strong>ç½‘ç»œå¸¦å®½å……è¶³ï¼Œå½“å‰å‹æµ‹ä¸æ˜¯ç½‘ç»œç“¶é¢ˆã€‚</strong>`;

        document.getElementById('output').innerHTML = html;
    }

    // API æ€§èƒ½æµ‹è¯•å·¥å…·çš„åŠŸèƒ½
    function analyzePerformance() {
        var apiResponseTime = document.getElementById('api_response_time').value;
        var apiThroughput = document.getElementById('api_throughput').value;
        var apiConcurrentUsers = document.getElementById('api_concurrent_users').value;
        var apiErrorRate = document.getElementById('api_error_rate').value;

        var responseTimeInSeconds = (apiResponseTime / 1000).toFixed(3);

        var responseTimeAnalysis = apiResponseTime > 3000 ? `å½“å‰ API å“åº”æ—¶é—´ä¸º ${responseTimeInSeconds} ç§’ï¼ˆå»ºè®® < 1 ç§’ï¼‰ã€‚` :
            apiResponseTime > 1000 ? `å½“å‰ API å“åº”æ—¶é—´ä¸º ${responseTimeInSeconds} ç§’ï¼ˆå»ºè®®ä¼˜åŒ–ï¼Œç›®æ ‡ < 1 ç§’ï¼‰ã€‚` :
            `å½“å‰ API å“åº”æ—¶é—´ä¸º ${responseTimeInSeconds} ç§’ï¼ˆç¬¦åˆç›®æ ‡ï¼‰ã€‚`;

        var throughputAnalysis = apiThroughput < 200 ? `å½“å‰ API ååé‡ä¸º ${apiThroughput} æ¬¡/ç§’ï¼ˆå»ºè®® > 200 æ¬¡/ç§’ï¼‰ã€‚` :
            apiThroughput < 500 ? `å½“å‰ API ååé‡ä¸º ${apiThroughput} æ¬¡/ç§’ï¼ˆé€‚ä¸­ï¼Œå»ºè®® > 200 æ¬¡/ç§’ï¼‰ã€‚` :
            `å½“å‰ API ååé‡ä¸º ${apiThroughput} æ¬¡/ç§’ï¼ˆç¬¦åˆç›®æ ‡ï¼‰ã€‚`;

        var concurrentUsersAnalysis = apiConcurrentUsers < 1000 ? `å½“å‰ API å¹¶å‘ç”¨æˆ·æ•°ä¸º ${apiConcurrentUsers}ï¼ˆå»ºè®® > 1000 ç”¨æˆ·ï¼‰ã€‚` :
            `å½“å‰ API å¹¶å‘ç”¨æˆ·æ•°ä¸º ${apiConcurrentUsers}ï¼ˆç¬¦åˆç›®æ ‡ï¼‰ã€‚`;

        var errorRateAnalysis = apiErrorRate > 1 ? `å½“å‰ API é”™è¯¯ç‡ä¸º ${apiErrorRate}%ï¼ˆå»ºè®® â‰¤ 1%ï¼‰ã€‚` :
            apiErrorRate > 0 ? `å½“å‰ API é”™è¯¯ç‡ä¸º ${apiErrorRate}%ï¼ˆå¯æ¥å—ï¼Œä½†å»ºè®®æ›´ä½ï¼‰ã€‚` :
            `å½“å‰ API é”™è¯¯ç‡ä¸º ${apiErrorRate}%ï¼ˆç¬¦åˆç›®æ ‡ï¼‰ã€‚`;

        document.getElementById('response_time_analysis').innerText = "1. " + responseTimeAnalysis;
        document.getElementById('throughput_analysis').innerText = "2. " + throughputAnalysis;
        document.getElementById('concurrent_users_analysis').innerText = "3. " + concurrentUsersAnalysis;
        document.getElementById('error_rate_analysis').innerText = "4. " + errorRateAnalysis;

        document.getElementById('result').style.display = 'block';
    }
</script>

</body>
</html>
